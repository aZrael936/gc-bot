# ===========================================
# AI Sales Call QC - Environment Configuration
# ===========================================

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=localhost

# Database (SQLite for local development)
DATABASE_PATH=./database/app.db

# Redis Configuration (for BullMQ)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Storage Configuration
STORAGE_PATH=./storage
STORAGE_ADAPTER=local  # Options: local, s3

# Exotel Configuration
# These credentials are for making API calls TO Exotel (Basic Auth)
# Webhooks FROM Exotel do NOT support signature validation
# Secure your webhook endpoint using IP whitelisting or firewall rules
EXOTEL_ACCOUNT_SID=your_exotel_account_sid
EXOTEL_API_KEY=your_exotel_api_key
EXOTEL_API_TOKEN=your_exotel_api_token
EXOTEL_WEBHOOK_URL=https://your-ngrok-url.ngrok.io/webhook/exotel  # Configure this URL in Exotel dashboard

# Speech-to-Text Configuration
# Default provider for production use
STT_PROVIDER=groq  # Options: groq, elevenlabs, sarvam, google, azure

# ===========================================
# Transcription Providers (Multi-Provider Support)
# ===========================================

# Groq API (Whisper v3 Turbo - baseline comparison)
# Free tier available, but produces poor Malayalam results
GROQ_API_KEY=your_groq_api_key

# ElevenLabs (Scribe v2 - RECOMMENDED for Malayalam)
# Best-in-class Malayalam accuracy (â‰¤5% WER)
# Signup: https://elevenlabs.io
ELEVENLABS_API_KEY=your_elevenlabs_api_key

# Sarvam.ai (Saarika v2 - Indian languages specialist)
# Optimized for Indian accents, code-mixing, and colloquial speech
# Signup: https://sarvam.ai
SARVAM_API_KEY=your_sarvam_api_key

# Google Cloud Speech-to-Text V2 (Chirp 2/3)
# Enterprise-grade, requires service account JSON
# Signup: https://console.cloud.google.com
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
GOOGLE_CLOUD_PROJECT=your_google_cloud_project_id

# Azure Speech Services
# Microsoft ecosystem, decent Malayalam support
# Signup: https://portal.azure.com
AZURE_SPEECH_KEY=your_azure_speech_key
AZURE_SPEECH_REGION=centralindia  # Options: centralindia, southindia, etc.

# ===========================================
# Legacy/Alternative Providers
# ===========================================

# Local Whisper (alternative)
WHISPER_MODEL_PATH=./models/ggml-medium.bin
WHISPER_BINARY_PATH=./whisper.cpp/main

# AssemblyAI (for production - English)
ASSEMBLYAI_API_KEY=your_assemblyai_api_key

# ===========================================
# LLM Configuration (OpenRouter - Cloud LLM Gateway)
# ===========================================

# OpenRouter API (RECOMMENDED - access to multiple LLMs via single API)
# Signup: https://openrouter.ai
# Models: https://openrouter.ai/models
OPENROUTER_API_KEY=your_openrouter_api_key

# Default model for analysis
# Free tier: deepseek/deepseek-chat, mistralai/mistral-7b-instruct:free
# Budget: openai/gpt-4o-mini ($0.15/$0.60 per 1M tokens)
# Premium: openai/gpt-4o, anthropic/claude-3.5-sonnet
OPENROUTER_MODEL=deepseek/deepseek-chat

# Fallback model (used when primary model fails)
OPENROUTER_FALLBACK_MODEL=deepseek/deepseek-chat

# LLM Parameters
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=2000

# Legacy LLM Configuration (optional)
LLM_PROVIDER=openrouter  # Options: openrouter, ollama, openai
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=mistral:7b

# OpenAI Direct (alternative to OpenRouter)
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini

# ===========================================
# Notification Configuration (Phase 5)
# ===========================================

# Telegram Bot Configuration
# Create a bot via @BotFather on Telegram
# Get your chat ID by messaging @userinfobot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# Notification Settings
NOTIFICATIONS_ENABLED=true
TELEGRAM_NOTIFICATIONS=true
CONSOLE_NOTIFICATIONS=true
ALERT_LOW_SCORE=true
ALERT_CRITICAL_ISSUE=true
DAILY_DIGEST_ENABLED=true
DAILY_DIGEST_TIME=09:00  # 24hr format

# Legacy: WhatsApp BSP (for future production)
WHATSAPP_BSP=interakt  # Options: interakt, aisensy, wati
WHATSAPP_API_KEY=your_whatsapp_api_key
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id

# Quality Scoring Configuration
SCORE_THRESHOLD_ALERT=50  # Score below this triggers alert
SCORE_THRESHOLD_GOOD=70   # Score above this is "good"
SCORE_THRESHOLD_EXCELLENT=85  # Score above this is "excellent"

# Logging
LOG_LEVEL=debug  # Options: error, warn, info, debug
LOG_FILE_PATH=./logs/app.log

# Organization (Default for single-tenant MVP)
DEFAULT_ORG_ID=org_default
DEFAULT_ORG_NAME=My Company

# ngrok (for development webhooks)
NGROK_AUTHTOKEN=your_ngrok_authtoken
